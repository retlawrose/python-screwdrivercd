
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Python language Screwdriver V4 template scripts and integration">
      
      
      
      
        <link rel="canonical" href="https://yahoo.github.io/python-screwdrivercd/Install_Dependencies/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.1, mkdocs-material-7.1.8">
    
    
      
        <title>Build Dependency Installer - Python Screwdriver Helpers</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.ca7ac06f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.f1a3b89f.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#the-pyprojecttoml-config-file" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Python Screwdriver Helpers" class="md-header__button md-logo" aria-label="Python Screwdriver Helpers" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Python Screwdriver Helpers
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Build Dependency Installer
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/yahoo/python-screwdrivercd/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Python Screwdriver Helpers" class="md-nav__button md-logo" aria-label="Python Screwdriver Helpers" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Python Screwdriver Helpers
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/yahoo/python-screwdrivercd/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Quickstart
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      <label class="md-nav__link" for="__nav_2">
        Integration Utilities
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Integration Utilities" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Integration Utilities
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Build Dependency Installer
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Build Dependency Installer
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#rationale" class="md-nav__link">
    Rationale
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
    <nav class="md-nav" aria-label="Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pyprojecttoml-toolsdv4_installdeps-configuration" class="md-nav__link">
    pyproject.toml tool.sdv4_installdeps configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fail_on_error" class="md-nav__link">
    fail_on_error
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install" class="md-nav__link">
    install
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#package-section" class="md-nav__link">
    Package section
  </a>
  
    <nav class="md-nav" aria-label="Package section">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#common-package-settings" class="md-nav__link">
    Common Package settings
  </a>
  
    <nav class="md-nav" aria-label="Common Package settings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deps" class="md-nav__link">
    deps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#repos-optional" class="md-nav__link">
    repos (Optional)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apk-settings" class="md-nav__link">
    apk settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apt-get-settings" class="md-nav__link">
    apt-get settings
  </a>
  
    <nav class="md-nav" aria-label="apt-get settings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#repos-apt-get-specific-values" class="md-nav__link">
    repos apt-get specific values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#brew-settings" class="md-nav__link">
    brew settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#yum-settings" class="md-nav__link">
    yum settings
  </a>
  
    <nav class="md-nav" aria-label="yum settings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#repos-yum-specific-values" class="md-nav__link">
    repos yum specific values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pip3-settings" class="md-nav__link">
    pip3 settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-settings" class="md-nav__link">
    Environment Settings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../changelog_generator/" class="md-nav__link">
        Changelog Generator
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../documentation/" class="md-nav__link">
        Documentation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../github_integration/" class="md-nav__link">
        Github
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Versioning/" class="md-nav__link">
        Package Versioning
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../release_tagging/" class="md-nav__link">
        Release Tagging
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Validation_Helpers/" class="md-nav__link">
        Validation Wrappers
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Developer Information
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Developer Information" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Developer Information
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Code-of-Conduct/" class="md-nav__link">
        Code of Conduct
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        Changelog
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#rationale" class="md-nav__link">
    Rationale
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
    <nav class="md-nav" aria-label="Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pyprojecttoml-toolsdv4_installdeps-configuration" class="md-nav__link">
    pyproject.toml tool.sdv4_installdeps configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fail_on_error" class="md-nav__link">
    fail_on_error
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install" class="md-nav__link">
    install
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#package-section" class="md-nav__link">
    Package section
  </a>
  
    <nav class="md-nav" aria-label="Package section">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#common-package-settings" class="md-nav__link">
    Common Package settings
  </a>
  
    <nav class="md-nav" aria-label="Common Package settings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deps" class="md-nav__link">
    deps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#repos-optional" class="md-nav__link">
    repos (Optional)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apk-settings" class="md-nav__link">
    apk settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apt-get-settings" class="md-nav__link">
    apt-get settings
  </a>
  
    <nav class="md-nav" aria-label="apt-get settings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#repos-apt-get-specific-values" class="md-nav__link">
    repos apt-get specific values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#brew-settings" class="md-nav__link">
    brew settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#yum-settings" class="md-nav__link">
    yum settings
  </a>
  
    <nav class="md-nav" aria-label="yum settings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#repos-yum-specific-values" class="md-nav__link">
    repos yum specific values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pip3-settings" class="md-nav__link">
    pip3 settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-settings" class="md-nav__link">
    Environment Settings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/yahoo/python-screwdrivercd/edit/master/docs/Install_Dependencies.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="the-pyprojecttoml-config-file">The pyproject.toml config file<a class="headerlink" href="#the-pyprojecttoml-config-file" title="Permanent link">&para;</a></h1>
<p>The <code>screwdrivercd_install_deps</code> utility is used to define global package build dependencies for multiple packaging
systems in a single configuration file.</p>
<h2 id="rationale">Rationale<a class="headerlink" href="#rationale" title="Permanent link">&para;</a></h2>
<p>This utility provides a single place to configure global/operating system dependencies
and simplifies creating CI/CD Pipelines that install and build the same package for multiple different
operating system environments in a coherent manner.</p>
<h2 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h2>
<p>The <code>screwdrivercd_install_deps</code> utility is configured using the <code>pyproject.toml</code> file.  </p>
<p>The <code>pyproject.toml</code> file is a <a href="https://github.com/toml-lang/toml">toml</a> format configuration file, that is defined as part of Python <a href="https://www.python.org/dev/peps/pep-0518/">PEP518</a> to hold the python package build dependencies.  </p>
<p>All of the configuration for the <code>screwdrivercd.installdeps</code> package are under the  is under the <code>tool.sdv4_installdeps</code> section which contains the configuration values for the tool as a whole and subsections that define the configuration to use for each package type.</p>
<h3 id="pyprojecttoml-toolsdv4_installdeps-configuration">pyproject.toml tool.sdv4_installdeps configuration<a class="headerlink" href="#pyprojecttoml-toolsdv4_installdeps-configuration" title="Permanent link">&para;</a></h3>
<p>The <code>tool.sdv4_installdeps</code> configuration section defines settings that configure how the utility functions.</p>
<h3 id="fail_on_error">fail_on_error<a class="headerlink" href="#fail_on_error" title="Permanent link">&para;</a></h3>
<p>Boolean (True/False) value indicating if the installer should immediately fail if a package installation fails.</p>
<p>The default value is False</p>
<div class="highlight"><pre><span></span><code><span class="k">[tool.sdv4_installdeps]</span>
    <span class="n">fail_on_error</span> <span class="o">=</span> <span class="kc">true</span>
</code></pre></div>
<h3 id="install">install<a class="headerlink" href="#install" title="Permanent link">&para;</a></h3>
<p>The install configuration setting is an ordered list of the package utilities to run.  <strong>Optional</strong></p>
<p>If not provided, a default that will run all the package utilities, ordered to execute the system package utilities, followed by the global python pip3 installed packages.</p>
<div class="highlight"><pre><span></span><code><span class="k">[tool.sdv4_installdeps]</span>
    <span class="n">install</span> <span class="o">=</span> <span class="k">[&#39;apk&#39;, &#39;apt-get&#39;, &#39;brew&#39;, &#39;yum&#39;, &#39;pip3&#39;]</span>
</code></pre></div>
<h2 id="package-section">Package section<a class="headerlink" href="#package-section" title="Permanent link">&para;</a></h2>
<p>Each package tool has a setting section under the <code>tool.sdv4_installdeps</code> section of the <code>pyproject.toml</code>.</p>
<h3 id="common-package-settings">Common Package settings<a class="headerlink" href="#common-package-settings" title="Permanent link">&para;</a></h3>
<p>All the package tools have some settings that are common among them, so the same settings have the same format irregardless of the package utility they are defined under.</p>
<h4 id="deps">deps<a class="headerlink" href="#deps" title="Permanent link">&para;</a></h4>
<p>The deps setting is a list of package dependencies in a format based on the Python <a href="https://www.python.org/dev/peps/pep-0508">PEP 508</a> Package dependency specification.  </p>
<p>The specification used by the <code>screwdrivercd.installdeps</code> package adds environment markers which contain 
values from the <a href="https://distro.readthedocs.io/en/latest/">distro</a> package to allow specifying requirements based on 
attributes of the Operating System distribution.</p>
<p>The environment markers that are supported, are:</p>
<table>
<thead>
<tr>
<th>Marker</th>
<th>Python equivalent</th>
<th>Sample values</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://distro.readthedocs.io/en/latest/#distro.codename">distro_codename</a></td>
<td>distro.codename()</td>
<td>Maipo, bionic</td>
</tr>
<tr>
<td><a href="https://distro.readthedocs.io/en/latest/#distro.id">distro_id</a></td>
<td>distro.id()</td>
<td>rhel, ubuntu, darwin</td>
</tr>
<tr>
<td><a href="https://distro.readthedocs.io/en/latest/#distro.like">distro_like</a></td>
<td>distro.like()</td>
<td>fedora, debian</td>
</tr>
<tr>
<td><a href="https://distro.readthedocs.io/en/latest/#distro.name">distro_name</a></td>
<td>distro.name()</td>
<td>Darwin, Red Hat Enterprise Linux Server, Ubuntu</td>
</tr>
<tr>
<td><a href="https://distro.readthedocs.io/en/latest/#distro.version">distro_version</a></td>
<td>distro.version()</td>
<td>7.4, 18.04, 18.6.0</td>
</tr>
<tr>
<td>implementation_name</td>
<td>sys.implementation.name</td>
<td>cpython</td>
</tr>
<tr>
<td>implementation_version</td>
<td></td>
<td>3.4.0, 3.5.0b1</td>
</tr>
<tr>
<td>os_name</td>
<td>os.name</td>
<td>posix, java</td>
</tr>
<tr>
<td>platform_machine</td>
<td>platform.machine()</td>
<td>x86_64</td>
</tr>
<tr>
<td>platform_python_implementation</td>
<td>platform.python_implementation()</td>
<td>CPython, Jython</td>
</tr>
<tr>
<td>platform_release</td>
<td>platform.release()</td>
<td>3.14.1-x86_64-linode39, 14.5.0, 1.8.0_51</td>
</tr>
<tr>
<td>platform_system</td>
<td>platform.system()</td>
<td>Linux, Windows, Java</td>
</tr>
<tr>
<td>platform_version</td>
<td>platform.version()</td>
<td>#1 SMP Fri Apr 25 13:07:35 EDT 2014 Java HotSpot(TM) 64-Bit Server VM, 25.51-b03, Oracle Corporation Darwin Kernel Version 14.5.0: Wed Jul 29 02:18:53 PDT 2015; root:xnu-2782.40.9~2/RELEASE_X86_64</td>
</tr>
<tr>
<td>python_version</td>
<td>'.'.join(platform.python_version_tuple()[:2])</td>
<td>3.4, 2.7</td>
</tr>
<tr>
<td>python_full_version</td>
<td>platform.python_version()</td>
<td>3.4.0, 3.5.0b1</td>
</tr>
<tr>
<td>sys_platform</td>
<td>sys.platform</td>
<td>linux, linux2, darwin, java1.8.0_51 (note that "linux" is from Python3 and "linux2" from Python2)</td>
</tr>
</tbody>
</table>
<p>For example, the snippet below will use the yum tool to install the <code>foo_python36</code> package from the foo python rpm repo 
if the Operating System version is less than 8.0 and install the <code>python3</code> package if the operating system is version 
8.0 or higher.</p>
<div class="highlight"><pre><span></span><code><span class="k">[tool.sdv4_installdeps.yum]</span>
<span class="n">repos</span><span class="p">.</span><span class="n">foo</span> <span class="o">=</span> <span class="s">&#39;https://foo.bar.com/foo_rpms.repo;distro_version&lt;&quot;8.0&quot;&#39;</span>
<span class="n">deps</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">&#39;foo_python36;distro_version&lt;&quot;8.0&quot;&#39;</span><span class="p">,</span>
    <span class="s">&#39;python3;distro_version&gt;=&quot;8.0&#39;</span>
<span class="p">]</span>
</code></pre></div>
<h4 id="repos-optional">repos (Optional)<a class="headerlink" href="#repos-optional" title="Permanent link">&para;</a></h4>
<p>Some package utilities have the concept of package repositories.  The repos setting is a dictionary of repository name 
and values for repositories to add.  </p>
<p>This setting is only valid for the package utilities that have this concept.  The repo setting can be used to define 
package repositories to add to the host configuration before installing the package dependencies.</p>
<p>Like the deps setting, this setting supports using environment markers to specify environments to add the repositories 
too.</p>
<p>For example, this snippet would add the foo yum/rpm repository before installing the packages in Operating system 
versions lower than 8.0.</p>
<div class="highlight"><pre><span></span><code><span class="k">[tool.sdv4_installdeps.yum]</span>
<span class="n">repos</span><span class="p">.</span><span class="n">foo_rpms</span> <span class="o">=</span> <span class="s">&#39;https://foo.bar.com/foo_rpms.repo;distro_version&lt;&quot;8.0&quot;&#39;</span>
</code></pre></div>
<h3 id="apk-settings">apk settings<a class="headerlink" href="#apk-settings" title="Permanent link">&para;</a></h3>
<p>The apk utility does not support repositories.</p>
<div class="highlight"><pre><span></span><code><span class="k">[tool.sdv4_installdeps.apk]</span>
    <span class="n">deps</span> <span class="o">=</span> <span class="k">[&#39;python3&#39;]</span>
</code></pre></div>
<h3 id="apt-get-settings">apt-get settings<a class="headerlink" href="#apt-get-settings" title="Permanent link">&para;</a></h3>
<p>The apt-get tool supports both the deps and repos settings</p>
<div class="highlight"><pre><span></span><code><span class="k">[tool.sdv4_installdeps.apt-get]</span>
    <span class="n">repos</span><span class="p">.</span><span class="n">multiverse</span> <span class="o">=</span> <span class="s">&#39;multiverse&#39;</span>
    <span class="n">repos</span><span class="p">.</span><span class="n">ppa_deadsnakes</span> <span class="o">=</span> <span class="s">&#39;ppa:deadsnakes/ppa;distro_version&gt;&quot;17.04&quot;&#39;</span>
    <span class="n">deps</span> <span class="o">=</span> <span class="k">[&#39;python3&#39;]</span>
</code></pre></div>
<h4 id="repos-apt-get-specific-values">repos apt-get specific values<a class="headerlink" href="#repos-apt-get-specific-values" title="Permanent link">&para;</a></h4>
<p>The <code>apt-get</code> repos support adding/enabling built in repos, as well as ppa and repository urls.</p>
<h3 id="brew-settings">brew settings<a class="headerlink" href="#brew-settings" title="Permanent link">&para;</a></h3>
<p>The brew utility does not currently support repositories.</p>
<div class="highlight"><pre><span></span><code><span class="k">[tool.sdv4_installdeps.brew]</span>
    <span class="n">deps</span> <span class="o">=</span> <span class="k">[&#39;python3&#39;]</span>
</code></pre></div>
<h3 id="yum-settings">yum settings<a class="headerlink" href="#yum-settings" title="Permanent link">&para;</a></h3>
<p>The yum tools supports both repos and deps settings.</p>
<div class="highlight"><pre><span></span><code><span class="k">[tool.sdv4_installdeps.yum]</span>
    <span class="n">repos</span><span class="p">.</span><span class="n">foo_rpms</span> <span class="o">=</span> <span class="s">&#39;https://foo.bar.com/foo_rpms.repo&#39;</span>
    <span class="n">deps</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s">&#39;foo_python36;distro_version&lt;&quot;8.0&quot;&#39;</span><span class="p">,</span>
        <span class="s">&#39;python3;distro_version&gt;=&quot;8.0&quot;&#39;</span>
    <span class="p">]</span>
</code></pre></div>
<h4 id="repos-yum-specific-values">repos yum specific values<a class="headerlink" href="#repos-yum-specific-values" title="Permanent link">&para;</a></h4>
<p>The yum repos values are executed in order, so it is possible to add a repository url, then enable/disable 
specific repositories that where added.</p>
<p>The yum utility configuration supports enabling/disabling repos in addition to being able to add/remove them.  </p>
<p>A repo configuration value that begins with <code>enable:</code> will enable the repository instead of adding it.</p>
<p>A repo configuraiton value that begins with <code>disable</code> will disable the repository instead of adding it.</p>
<div class="highlight"><pre><span></span><code><span class="n">repos</span><span class="p">.</span><span class="n">foo_rpms</span> <span class="o">=</span> <span class="s">&#39;https://foo.bar.com/foo_rpms.repo&#39;</span>
<span class="n">repos</span><span class="p">.</span><span class="n">foo_rpms_disable_stable</span> <span class="o">=</span> <span class="s">&#39;disable:foo_rpms-stable&#39;</span>
<span class="n">repos</span><span class="p">.</span><span class="n">foo_rpms_enable_beta</span> <span class="o">=</span> <span class="s">&#39;enable:foo_rpms-beta&#39;</span>
</code></pre></div>
<h3 id="pip3-settings">pip3 settings<a class="headerlink" href="#pip3-settings" title="Permanent link">&para;</a></h3>
<p>The pip3 tool supports using the python pip3 command to install python packages for global, system wide use.  It does not currently support repos.</p>
<div class="highlight"><pre><span></span><code><span class="k">[tool.sdv4_installdeps.pip3]</span>
    <span class="n">deps</span> <span class="o">=</span> <span class="k">[&#39;serviceping&#39;]</span>
</code></pre></div>
<h3 id="environment-settings">Environment Settings<a class="headerlink" href="#environment-settings" title="Permanent link">&para;</a></h3>
<p>Some settings for <code>scrwedrivercd_install_deps</code> command are specified via environment variables.</p>
<p>The following settings are supported:</p>
<table>
<thead>
<tr>
<th>Setting</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>INSTALLDEPS_DEBUG</td>
<td>False</td>
<td>Enable verbose debug output</td>
</tr>
</tbody>
</table>
<h2 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h2>
<p>Here is an example that installs the mysql client package and installs the python <code>serviceping</code> package properly on multiple different Linux operating systems.</p>
<div class="highlight"><pre><span></span><code><span class="k">[tool.sdv4_installdeps]</span>
    <span class="n">install</span> <span class="o">=</span> <span class="k">[&#39;apk&#39;, &#39;apt-get&#39;, &#39;yum&#39;, &#39;pip3&#39;]</span>

    <span class="k">[tool.sdv4_installdeps.apk]</span>
        <span class="n">deps</span> <span class="o">=</span> <span class="k">[&#39;mysql-client&#39;]</span>

    <span class="k">[tool.sdv4_installdeps.apt-get]</span>
        <span class="n">deps</span> <span class="o">=</span> <span class="k">[&#39;mysql-client&#39;]</span>

    <span class="k">[tool.sdv4_installdeps.brew]</span>
        <span class="n">deps</span> <span class="o">=</span> <span class="k">[&#39;mysql-utilities&#39;]</span>

    <span class="k">[tool.sdv4_installdeps.yum]</span>
        <span class="n">deps</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s">&#39;mysql;distro_version&lt;&quot;7.0&quot;&#39;</span><span class="p">,</span>
            <span class="s">&#39;mariadb;distro_version&gt;=&quot;7.0&quot;&#39;</span>
        <span class="p">]</span>

    <span class="k">[tool.sdv4_installdeps.pip3]</span>
        <span class="n">deps</span> <span class="o">=</span> <span class="k">[&#39;serviceping&#39;]</span>
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href=".." class="md-footer__link md-footer__link--prev" aria-label="Previous: Quickstart" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Quickstart
            </div>
          </div>
        </a>
      
      
        
        <a href="../changelog_generator/" class="md-footer__link md-footer__link--next" aria-label="Next: Changelog Generator" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Changelog Generator
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.b0710199.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.76f349be.min.js"></script>
      
    
  </body>
</html>